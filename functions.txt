Лабораторная работа №1
Проект: Система учета пациентов

1) Неавторизованный пользователь имеет возможность:
    a) Создать новый аккаунт (зарегистрироваться).
    b) Войти в уже созданный им аккаунт.
2. Авторизованный пользователь (гость) имеет возможность:
    a) Просматривать информацию о пациентах, врачах, услугах и обследованиях, графике работы.
    b) Управлять своими личными данными.
    c) Экспортировать таблицы пациентов, препаратов, расписания в форматах .xlsx и .csv
    d) Экспортировать карточки пациентов, результаты обследований в формате .pdf
3. Авторизованный пользователь (пользователь) имеет возможность:
    a) Просматривать, редактировать, создавать и удалять информацию о пациентах.
    b) Редактировать информацию о палатах.
    b) Управлять обследованиями и процедурами.
    c) Создавать, редактировать рецепты.
4. Администратор имеет возможность:
    a) Просматривать, редактировать, создавать и удалять
    информацию о пользователях и сотрудниках.
    b) Просматривать, редактировать, создавать и удалять палаты, услуги, препараты, расписания
5. В приложении должна присутствовать система ролей, которая
предоставляет доступ авторизованным пользователям и
ограничивает неавторизованным.
6. В приложении должно быть обеспечено журналирование действий
пользователей.

Таблицы в базе данных:
        
    1. Таблица "Пациент" ("patient)
        "id"            BIGINT NOT NULL (PK)
        "room_id"       BIGINT          (FK -> room)
        "full_name"     VARCHAR(64)
        "sex"           VARCHAR(1)
        "birth_date"    DATE
        "address"       VARCHAR(128)
        "phone_number"  VARCHAR(15)
        "email"         VARCHAR(320)
        "card_number"   VARCHAR(8)

    2. Таблица "Палата" ("room")
        "id"            BIGINT NOT NULL (PK)
        "staff_id"      BIGINT          (FK -> staff)
        "number"        INT
        "max_capacity"  INT
        
    3. Таблица "Сотрудник" ("staff")
        "id"            BIGINT NOT NULL (PK)
        "full_name"     VARCHAR(64)
        "birth_date"    DATE
        "email"         VARCHAR(320)
        "position"      VARCHAR(32)          
        "department"    VARCHAR(32)
        "role"          VARCHAR(32)
        "login"         VARCHAR(32)
        "password"      VARCHAR(32)

    4. Таблица "Услуга" ("service")
        "id"            BIGINT NOT NULL (PK)
        "name"          VARCHAR(64)
        "duration"      INTEGER
        "price"         DECIMAL(6, 2)

    5. Таблица "Препарат" ("medicine")
        "id"                BIGINT NOT NULL (PK)
        "name"              VARCHAR(32)
        "description"       VARCHAR(256)
        "category"          VARCHAR(32)
        "amount"            INT
        "waranty"           INT

    6. Таблица "Операция с препаратами" ("medicine_operation")
        "id"                BIGINT NOT NULL (PK)
        "medicine_id"       BIGINT          (FK -> medicine)
        "operation"         VARCHAR(32)
        "amount"            INT
        "price"             DECIMAL(6, 2)
        "date_time"         DATETIME

    7. Таблица "Расписание" ("schedule")
        "id"                BIGINT NOT NULL (PK)
        "staff_id"          BIGINT          (FK -> staff)
        "patient_id"        BIGINT          (FK -> patient)
        "abscent"           BOOLEAN
        "date_time"         DATETIME

    8. Таблица "Обследование" ("examination")
        "id"                BIGINT NOT NULL (PK)
        "schedule_id"       BIGINT          (FK -> schedule)
        "type"              VARCHAR(32)
        "disease"           VARCHAR(128)
        "result"            TEXT

    9. Таблица "Оказанная услуга ("provided_service")
        "id"                BIGINT NOT NULL (PK)
        "service_id"        BIGINT          (FK -> service)
        "schedule_id"       BIGINT          (FK -> schedule)

    10. Таблица "Рецепт" ("prescription")
        "id"                BIGINT NOT NULL (PK)
        "examination_id"    BIGINT          (FK -> examination)
        "medicine_id"       BIGINT          (FK -> medicine)
        "notes"             VARCHAR(256)

    11. Таблица "Оплата" ("purchase")
        "id"                BIGINT NOT NULL (PK)
        "service_id"        BIGINT          (FK -> service)
        "patient_id"        BIGINT          (FK -> patient)
        "total"             DECIMAL(6, 2)
        "paid"              BOOLEAN
        "date_time"         DATETIME
    